{"version":3,"sources":["Components/Navbar/Navbar.js","config.js","Components/Home/Home.js","Components/Login/Login.js","Components/Register/Register.js","Components/ShortUrl.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","Navbar","useState","user","setUser","useEffect","Cookies","get","classes","AppBar","position","Toolbar","Typography","variant","className","Button","color","onClick","e","preventDefault","remove","window","location","href","config","APIURL","Home","prof","setProf","isLoading","setIsLoading","isUserLoading","setIsUserLoading","err","setErr","url","setUrl","console","log","requestOptions","method","headers","fetch","then","response","json","data","message","urls","sort","x","y","_id","Backdrop","style","opacity","visibility","CircularProgress","Box","textAlign","marginTop","email","Container","maxWidth","display","alignItems","justifyContent","TextField","onChange","target","value","label","width","test","body","JSON","stringify","fullUrl","TableContainer","component","Paper","margin","Table","TableHead","TableRow","TableCell","TableBody","map","full","id","short","FileCopy","copyText","document","getElementById","navigator","clipboard","writeText","innerHTML","handleCopy","marginLeft","ind","findIndex","u","splice","handleDelete","Delete","to","Login","setEmail","password","setPassword","handleChange","s","elevation","padding","flexDirection","type","undefined","token","set","catch","Register","password1","setPassword1","password2","setPassword2","ShortUrl","useParams","substr","App","exact","path","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8adbc358.chunk.js","sourcesContent":["import { AppBar, Button, IconButton, makeStyles, Toolbar, Typography } from '@material-ui/core'\nimport { Menu } from '@material-ui/icons'\nimport React, { useEffect, useState } from 'react'\nimport Cookies from 'js-cookie'\nimport { Redirect } from 'react-router';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n}));\n\nfunction Navbar() {\n    const [user, setUser] = useState(false);\n    useEffect(() => {\n        if(Cookies.get(\"token\")) {\n            setUser(true)\n        }\n    }, []);\n    function handleLogout(e){\n        e.preventDefault();\n        Cookies.remove('token');\n        setUser(false);\n        window.location.href = '/login';\n    }\n    const classes = useStyles();\n    return (\n        <AppBar position=\"static\">\n            <Toolbar>\n                {/* <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                    <Menu />\n                </IconButton> */}\n                <Typography variant=\"h6\" className={classes.title}>\n                    Mini URL Shortener\n                </Typography>\n                {user ?\n                    <Button color=\"inherit\" onClick={handleLogout}>Logout</Button>\n                :(\n                    <Button color=\"inherit\">Login</Button>\n                )}\n            </Toolbar>\n        </AppBar>\n    )\n}\n\nexport default Navbar\n","const config = {\n    // APIURL: \"http://localhost:5000/user\",\n    APIURL: \"https://mini-short.herokuapp.com/user\"\n}\nexport default config;","import { Box, TableContainer, Typography, Paper, Table, TableHead, TableCell, TableRow, TableBody, TextField, Button, Container, CircularProgress, Backdrop } from '@material-ui/core'\nimport React, {useEffect, useState} from 'react'\nimport Navbar from '../Navbar/Navbar'\nimport Cookies from 'js-cookie'\nimport config from '../../config';\nimport {Redirect} from 'react-router-dom';\nimport { Delete, FileCopy, FileCopyOutlined } from '@material-ui/icons';\nfunction Home() {\n    const [user, setUser] = useState(true);\n    const [prof, setProf] = useState({});\n    const [isLoading, setIsLoading] = useState(false);\n    const [isUserLoading, setIsUserLoading] = useState(true);\n    const [err, setErr] = useState(\"\");\n    const [url, setUrl] = useState(\"\");\n    useEffect(() => {\n        console.log(Cookies.get(\"token\"));\n        if(Cookies.get(\"token\")) {\n            console.log(\"dlkasds\");\n            setUser(true)\n        }\n    }, []);\n    useEffect(() => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {'Content-Type': 'application/json', 'token': Cookies.get('token')}\n        }\n        fetch(config.APIURL+'/me', requestOptions)\n        .then(response => response.json())\n        .then(data => {\n            setProf(data);\n            if(data.message==='Invalid Token') {\n                Cookies.remove('token');\n                setUser(false);\n            }\n            else \n                prof?.urls?.sort((x,y) => y._id-x._id)\n            console.log(data);\n            setIsUserLoading(false);\n        })\n    }, []);\n    function handleAdd(e){\n        e.preventDefault();\n        if(!(/^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/.test(url))){\n            setErr('Invalid url!');\n            return;\n        }\n\n        setIsLoading(true);\n        const requestOptions = {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json', 'token': Cookies.get('token')},\n            body: JSON.stringify({\n                fullUrl: url\n            })\n        }\n        fetch(config.APIURL+'/short', requestOptions)\n        .then(response => response.json())\n        .then(data => {\n            console.log(data);\n            const requestOptions = {\n                method: 'GET',\n                headers: {'Content-Type': 'application/json', 'token': Cookies.get('token')}\n            }\n            fetch(config.APIURL+'/me', requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                setProf(data);\n                setIsLoading(false);\n                console.log(data);\n            })\n        })\n    }\n    function handleDelete(e, url){\n        setIsLoading(true);\n        e.preventDefault();\n        const requestOptions = {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json', 'token': Cookies.get('token')},\n            body: JSON.stringify({\n                short: url\n            })\n        }\n        fetch(config.APIURL+'/delete', requestOptions)\n        .then(response => response.json())\n        .then(data => {\n            var ind = data.user.urls.findIndex(u => u._id == url._id);\n            console.log(ind);\n            if(ind>-1)\n                data.user.urls.splice(ind, 1);\n            setProf(data.user);\n            console.log(data);\n            setIsLoading(false);\n        })\n    }\n    function handleCopy(e, id){\n        console.log(id);\n        var copyText = document.getElementById(id);\n        console.log(copyText);\n        navigator.clipboard.writeText(copyText.innerHTML)\n        // copyText?.setSelectionRange(0, 99999); /* For mobile devices */\n\n        // /* Copy the text inside the text field */\n        // document?.execCommand(\"copy\");\n    }\n    return (\n        isUserLoading ? (\n            <Backdrop style={{opacity:'0.5', visibility:'visible'}}> \n                <CircularProgress color='primary'/>\n            </Backdrop>\n        ):(\n            user ? (\n                <Box>\n                    <Navbar/>\n                    {\n                        isLoading ? (\n                            <Backdrop style={{opacity:'0.5', visibility:'visible'}}> \n                                <CircularProgress color='primary'/>\n                            </Backdrop>\n                        ):(\n                            <Box style={{textAlign: 'center', marginTop:'40px'}}>\n                                <Typography variant='h5'>Welcome back {prof.email}</Typography>\n                                <Container style={{textAlign: 'center', maxWidth:'700px'}}>\n                                    <Container style={{display: 'flex', alignItems: 'center', marginTop:'20px', justifyContent: 'center'}}>\n                                        <TextField onChange={(e) => setUrl(e.target.value)} value={url} label='Type an URL to short' style={{width:\"100%\", marginRight:\"10px\"}}/>\n                                        <Button variant='contained' color='primary' onClick={handleAdd}>Add</Button>\n                                    </Container>\n                                    <Typography variant='subtitle1' style={{color:'red'}}>{err}</Typography>\n                                    <TableContainer component={Paper} style={{maxWidth:'700px', margin:' 40px auto'}}>\n                                        <Table> \n                                            <TableHead>\n                                                <TableRow>\n                                                    <TableCell>Full URL</TableCell>\n                                                    <TableCell>Mini URL</TableCell>\n                                                </TableRow>\n                                            </TableHead>\n                                            <TableBody>\n                                                {\n                                                    prof.urls?.map(url => {\n                                                        return (\n                                                            <TableRow>\n                                                                <TableCell>{url.full}</TableCell>\n                                                                <TableCell style={{alignItems: 'center'}}><span id={url._id}>{url.short}</span><FileCopy onClick={(e) => handleCopy(e,url._id)} style={{marginLeft:'10px'}}/></TableCell>\n                                                                <TableCell onClick={(e) => handleDelete(e, url)}><Delete/></TableCell>\n                                                            </TableRow>\n                                                        )\n                                                    })\n                                                }\n                                                \n                                            </TableBody>\n                                        </Table>\n                                    </TableContainer>\n                                </Container>\n                            </Box>\n                        )\n                    }\n                </Box>\n            ):(\n                <Redirect to='/login'/>\n            )\n        )\n    )\n}\n\nexport default Home\n","import { Box, Button, Container, Paper, TextField, Typography } from '@material-ui/core'\nimport React, {useState, useEffect} from 'react'\nimport Navbar from '../Navbar/Navbar'\nimport config from '../../config';\nimport Cookies from 'js-cookie';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nfunction Login() {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [err, setErr] = useState(\"\");\n    const [user, setUser] = useState(false);\n\n    useEffect(() => {\n        if(Cookies.get(\"token\")) {\n            setUser(true)\n        }\n    }, []);\n    function handleLogin(e) {\n        e.preventDefault();\n        console.log(config.APIURL, password);\n        const requestOptions = {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n                email: email,\n                password: password\n            })\n        }\n        setIsLoading(true);\n        fetch(config.APIURL+\"/login\", requestOptions)\n        .then(response => response.json())\n        .then(data => {\n            if(data.token!=undefined){\n                Cookies.set('token', data.token);\n                setUser(true);\n            }\n            else setErr('Invalid Credentials!')\n            setIsLoading(false);\n        })\n        .catch(err => {\n            setErr(err);\n            console.log(err);\n        })\n    }\n    function handleChange(e, s){\n        if(s==='email'){\n            setEmail(e.target.value);\n        }\n        else if(s==='password'){\n            setPassword(e.target.value);\n        }\n    }\n    return (\n        user ? (\n            <Redirect to='/'/>\n        ):(\n            <Box>\n                <Navbar/>\n                <Container>\n                    <Paper elevation={5} style={{maxWidth:'500px', padding:'20px', margin:'100px auto'}}>\n                        <Container style={{display:'flex', textAlign:'center', flexDirection:'column'}}>\n                            <Typography variant='h5'>Welcome back!</Typography>\n                            <TextField onChange={(e)=>handleChange(e, 'email')} value={email} variant='outlined' label='Email' style={{margin:'20px 0'}}/>\n                            <TextField onChange={(e)=>handleChange(e, 'password')} value={password} variant='outlined' label='Password' type='password'/>\n                            <Typography style={{margin:'20px 0'}} variant='subtitle1'>Don't have an account? <Link to='/signup'>Create one</Link></Typography>\n                            <Button variant='contained' color='primary' style={{margin:'0 0 20px 0'}} onClick={handleLogin}>Login</Button>\n                            <Typography style={{color:'red'}}variant='subtitle1'>{err}</Typography>\n                        </Container>\n                    </Paper>\n                </Container>\n            </Box>\n        )\n    )\n}\n\nexport default Login\n","import { Box, Button, Container, Paper, TextField, Typography } from '@material-ui/core'\nimport React, {useState, useEffect} from 'react'\nimport Navbar from '../Navbar/Navbar'\nimport config from '../../config';\nimport Cookies from 'js-cookie';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nfunction Register() {\n    const [email, setEmail] = useState(\"\");\n    const [password1, setPassword1] = useState(\"\");\n    const [password2, setPassword2] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [err, setErr] = useState(\"\");\n    const [user, setUser] = useState(false);\n\n    useEffect(() => {\n        if(Cookies.get(\"token\")) {\n            setUser(true)\n        }\n    }, []);\n    useEffect(() => {\n        if(password1!=password2)\n            setErr(\"Passwords must match!\")\n        else\n            setErr(\"\")\n    }, [password2,])\n    function handleRegister(e) {\n        e.preventDefault();\n        const requestOptions = {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n                email: email,\n                password: password1\n            })\n        }\n        setIsLoading(true);\n        fetch(config.APIURL+\"/signup\", requestOptions)\n        .then(response => response.json())\n        .then(data => {\n            if(data.token!=undefined){\n                Cookies.set('token', data.token);\n                setUser(true);\n            }\n            else setErr('Account already registered!')\n            setIsLoading(false);\n        })\n        .catch(err => {\n            setErr(err);\n            console.log(err);\n        })\n    }\n    function handleChange(e, s){\n        if(s==='email'){\n            setEmail(e.target.value);\n        }\n        else if(s==='password1'){\n            setPassword1(e.target.value);\n        }\n        else if(s==='password2'){\n            setPassword2(e.target.value);\n        }\n    }\n    return (\n        user ? (\n            <Redirect to='/'/>\n        ):(\n            <Box>\n                <Navbar/>\n                <Container>\n                    <Paper elevation={5} style={{maxWidth:'500px', padding:'20px', margin:'100px auto'}}>\n                        <Container style={{display:'flex', textAlign:'center', flexDirection:'column'}}>\n                            <Typography variant='h5'>Create an account</Typography>\n                            <TextField onChange={(e)=>handleChange(e, 'email')} value={email} variant='outlined' label='Email' style={{margin:'10px 0'}}/>\n                            <TextField onChange={(e)=>handleChange(e, 'password1')} value={password1} variant='outlined' label='Password' style={{margin:'10px 0 20px 0'}} type='password'/>\n                            <TextField onChange={(e)=>handleChange(e, 'password2')} value={password2} variant='outlined' label='Confirm Password' type='password'/>\n                            <Typography style={{margin:'20px 0'}} variant='subtitle1'>Already have an account? <Link to='/login'>Login here</Link></Typography>\n                            <Button variant='contained' color='primary' style={{margin:'0 0 20px 0'}} onClick={handleRegister}>Register</Button>\n                            <Typography style={{color:'red'}} variant='subtitle1'>{err}</Typography>\n                        </Container>\n                    </Paper>\n                </Container>\n            </Box>\n        )\n    )\n}\n\nexport default Register\n","import React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router'\nimport config from '../config';\n\nfunction ShortUrl() {\n    const {short} = useParams();\n    console.log(short);\n    const [url, setUrl] = useState('');\n    useEffect(() => {\n        fetch(config.APIURL+`/${short}`, {method: 'get'})\n        .then(response => response.json())\n        .then(data => {\n            window.location.href = data.url.substr(0,8)!='https://'?'https://'+data.url:data.url;\n            setUrl(data.url)\n            console.log(data);\n\n        })\n    }, [])\n    useEffect(() =>{\n        \n    },[url,])\n    return (\n        <div>\n            Redirecting to {url}\n        </div>\n    )\n}\n\nexport default ShortUrl\n","import { Box } from '@material-ui/core';\nimport { \n  Route, \n  BrowserRouter as Router, \n  Switch } from 'react-router-dom';\nimport './App.css';\nimport Home from './Components/Home/Home';\nimport Login from './Components/Login/Login';\nimport Register from './Components/Register/Register';\nimport ShortUrl from './Components/ShortUrl';\nfunction App() {\n  return (\n      <Router>\n        <Switch>\n          <Route exact path='/'>\n            <Home/>\n          </Route>\n          <Route path='/login'>\n            <Login/>\n          </Route>\n          <Route path='/signup'>\n            <Register/>\n          </Route>\n          <Route path='/:short'>\n            <ShortUrl/>\n          </Route>\n          \n        </Switch>\n      </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}